---
title: "hw01"
author: "Котов Иван, РИ-440004"
date: '13 октября 2017 г '
output: 
  pdf_document:
    latex_engine: xelatex
---
```{r}
knitr::opts_chunk$set(echo = TRUE)
```
По адресу http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

Загрузите данные в датафрейм, который назовите data.df.
```{r}
data.df <- read.table(file = "rnf6080.dat")
```
Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.
```{r}
dim(data.df)
```
Получите имена колонок из data.df.
```{r}
colnames(data.df)
```
Найдите значение из 5 строки седьмого столбца.
```{r}
data.df[5, 'V7']
data.df[5, 7]
```
Напечатайте целиком 2 строку из data.df
```{r}
data.df[2,]
```
Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?
names(data.df) получает имена всех колонок в датафрейме, вторая часть переименовывает колонки.
последние 24 колонки  - ??????
```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
head(data.df)
tail(data.df)
```
Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?
```{r}
data.df <- cbind(data.df, daily = rowSums(data.df[4:27]))
barplot(data.df[,'daily'])

#ВЫВОДЫ
#Из-за отрицательных данных строится неверная гистограмма
```
Создайте новый датафрейм fixed.df в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
```{r}
fixed.df<-data.df[data.df$daily>=0,]
barplot(fixed.df[,'daily'])

#ВЫВОДЫ
#Теперь данные отображаются без учета некорректных значений
```
Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.
```{r}
v <- c("4", "8", "15", "16", "23", "42")
#Создается вектор с типома данных char, а не num
max(v) 
#Максимальным числом признается 8, т.к. остальные числа разбиваются на цифры и оцениваются по раздельности
sort(v) 
# То же самое с сортировкой, числа не оцениваются целиком, а лишь по составляющим цифрам
#sum(v)
#Нет возможности суммировать разные типы данных. Для исправления ошибок, необходимо исправить значения вектора:
v<-as.numeric(v)
#или просто убрать кавычки в исходном задании
v <- c(4, 8, 15, 16, 23, 42)
```
Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
```{r}
v2 <- c("5",7,12)
#В векторе не может быть данных различных типов, поэтому язык R приводит их к единому
#v2[2] + v2[3]  
#Арифметический оператор к нечисловым значениям не работает
df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3] 
# data.frame позволяют использовать и сохранять разные типы данных, поэтому 2 и 3 значения сохраняются числовыми значениями

l4 <- list(z1="6", z2=42, z3="49", z4=126)
l4[[2]] + l4[[4]]
#l4[2] + l4[4] 
#Последовательности значений не обязательно одного типа поэтому цифры складфваются, а строки нет
```
Работа с функциями и операторами
```{r}
seq(1,10000,by=372)
#Увеличение на 372 от предыдущего
seq(1,10000,length.out = 50)
#Всего 50 значений
rep(1:5,times=3) 
#Повторяет диапазон от 1 до 5 три раза
rep(1:5, each=3) 
#Повторяет трижды каждое число и после переходит к следующему
```

